{"remainingRequest":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\thread-loader\\dist\\cjs.js??ref--4-2!C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\ts-loader\\index.js??ref--4-3!C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\src\\main\\webapp\\app\\modules\\dashboard\\customers\\showUserImage\\ShowUserImg.tsx","dependencies":[{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\src\\main\\webapp\\app\\modules\\dashboard\\customers\\showUserImage\\ShowUserImg.tsx","mtime":1636716303418},{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\react-hot-loader\\webpack.js","mtime":1626862466408},{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626862527244},{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1626862599606},{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\ts-loader\\index.js","mtime":1626862600027},{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":1626862551139}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7DQppbXBvcnQgJy4vc2hvd1VzZXJJbWcuc2Nzcyc7DQpmdW5jdGlvbiBTaG93VXNlckltZyh7IGltYWdlVXJsIH0pIHsNCiAgICBjb25zdCBbaW1hZ2UsIHNldEltYWdlXSA9IHVzZVN0YXRlKCcnKTsNCiAgICBjb25zdCBmZXRjaFVzZXJEb2NzID0gKCkgPT4gew0KICAgICAgICBjb25zdCBhZG1pblRva2VuID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdqaGktYXV0aGVudGljYXRpb25Ub2tlbicpKTsNCiAgICAgICAgaWYgKGltYWdlVXJsKSB7DQogICAgICAgICAgICBmZXRjaChgaHR0cHM6Ly93YWxsZXQucmVtaXRhLm5ldC9hcGkvaW1hZ2VzLyR7aW1hZ2VVcmx9YCwgew0KICAgICAgICAgICAgICAgIC8vICAgZmV0Y2goYGh0dHBzOi8vd2FsbGV0ZGVtby5yZW1pdGEubmV0L2FwaS9pbWFnZXMvJHtpbWFnZVVybH1gLCB7DQogICAgICAgICAgICAgICAgLy8gICBmZXRjaChgL2FwaS9pbWFnZXMvJHtpbWFnZVVybH1gLCB7DQogICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywNCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthZG1pblRva2VufWAsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIHJlc3BvbnNlDQogICAgICAgICAgICAgICAgICAgIC5ibG9iKCkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oYmxvYlJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YUJsb2IgPSBibG9iUmVzcG9uc2U7DQogICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlDQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGFCbG9iKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9iLnNpemUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChkYXRhQmxvYik7DQogICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEltYWdlKHJlYWRlci5yZXN1bHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldEltYWdlKCcnKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCB1cmxDcmVhdG9yID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMOw0KICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3cuc2Nyb2xsKHsgYmVoYXZpb3I6ICdzbW9vdGgnLCB0b3A6IDAgfSk7DQogICAgICAgICAgICAgICAgICAgIC8vIHNldEltYWdlKHVybENyZWF0b3IuY3JlYXRlT2JqZWN0VVJMKGRhdGFCbG9iKSk7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdFcnJvciBnZXR0aW5nIGltYWdlJyk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHNldEltYWdlKCcnKTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgdXNlRWZmZWN0KCgpID0+IGZldGNoVXNlckRvY3MoKSwgW10pOw0KICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLCBpbWFnZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoImltZyIsIHsgc3JjOiBpbWFnZSwgYWx0OiAidXNlciBpbWFnZSIsIHdpZHRoOiAiMjAwcHgiLCBoZWlnaHQ6ICIyMDBweCIgfSkgOiBSZWFjdC5jcmVhdGVFbGVtZW50KCJzbWFsbCIsIG51bGwsICJObyBpbWFnZSBmb3VuZCEiKSk7DQp9DQpleHBvcnQgZGVmYXVsdCBTaG93VXNlckltZzsNCg=="},{"version":3,"file":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\src\\main\\webapp\\app\\modules\\dashboard\\customers\\showUserImage\\ShowUserImg.tsx","sourceRoot":"","sources":["C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\src\\main\\webapp\\app\\modules\\dashboard\\customers\\showUserImage\\ShowUserImg.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAGnD,OAAO,oBAAoB,CAAC;AAE5B,SAAS,WAAW,CAAC,EAAE,QAAQ,EAAE;IAC/B,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IAEvC,MAAM,aAAa,GAAG,GAAG,EAAE;QACzB,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,CAAC,yBAAyB,CAAC,CAAC,CAAC;QAEjF,IAAI,QAAQ,EAAE;YACZ,KAAK,CAAC,wCAAwC,QAAQ,EAAE,EAAE;gBACxD,oEAAoE;gBACpE,uCAAuC;gBACvC,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE;oBACP,aAAa,EAAE,UAAU,UAAU,EAAE;iBACtC;aACF,CAAC;iBACC,IAAI,CAAC,QAAQ,CAAC,EAAE;gBACf,QAAQ;qBACL,IAAI,EAAE;qBACN,IAAI,CAAC,YAAY,CAAC,EAAE;oBACnB,MAAM,QAAQ,GAAG,YAAY,CAAC;oBAC9B,sCAAsC;oBACtC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBAEtB,IAAI,QAAQ,CAAC,IAAI,EAAE;wBACjB,MAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;wBAChC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;wBAC/B,MAAM,CAAC,SAAS,GAAG,GAAG,EAAE;4BACtB,QAAQ,CAAC,MAAM,CAAC,MAAgB,CAAC,CAAC;wBACpC,CAAC,CAAC;qBACH;yBAAM;wBACL,QAAQ,CAAC,EAAE,CAAC,CAAC;qBACd;oBAED,qDAAqD;oBACrD,iDAAiD;oBACjD,kDAAkD;gBACpD,CAAC,CAAC;qBACD,KAAK,CAAC,GAAG,CAAC,EAAE;oBACX,KAAK,CAAC,qBAAqB,CAAC,CAAC;gBAC/B,CAAC,CAAC,CAAC;YACP,CAAC,CAAC;iBACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;SACrC;aAAM;YACL,QAAQ,CAAC,EAAE,CAAC,CAAC;SACd;IACH,CAAC,CAAC;IAEF,SAAS,CAAC,GAAG,EAAE,CAAC,aAAa,EAAE,EAAE,EAAE,CAAC,CAAC;IAErC,OAAO,iCAAM,KAAK,CAAC,CAAC,CAAC,6BAAK,GAAG,EAAE,KAAK,EAAE,GAAG,EAAC,YAAY,EAAC,KAAK,EAAC,OAAO,EAAC,MAAM,EAAC,OAAO,GAAG,CAAC,CAAC,CAAC,qDAA8B,CAAO,CAAC;AACjI,CAAC;AAED,eAAe,WAAW,CAAC","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport './showUserImg.scss';\r\n\r\nfunction ShowUserImg({ imageUrl }) {\r\n  const [image, setImage] = useState('');\r\n\r\n  const fetchUserDocs = () => {\r\n    const adminToken = JSON.parse(sessionStorage.getItem('jhi-authenticationToken'));\r\n\r\n    if (imageUrl) {\r\n      fetch(`https://wallet.remita.net/api/images/${imageUrl}`, {\r\n        //   fetch(`https://walletdemo.remita.net/api/images/${imageUrl}`, {\r\n        //   fetch(`/api/images/${imageUrl}`, {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: `Bearer ${adminToken}`,\r\n        },\r\n      })\r\n        .then(response => {\r\n          response\r\n            .blob()\r\n            .then(blobResponse => {\r\n              const dataBlob = blobResponse;\r\n              // eslint-disable-next-line no-console\r\n              console.log(dataBlob);\r\n\r\n              if (dataBlob.size) {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(dataBlob);\r\n                reader.onloadend = () => {\r\n                  setImage(reader.result as string);\r\n                };\r\n              } else {\r\n                setImage('');\r\n              }\r\n\r\n              // const urlCreator = window.URL || window.webkitURL;\r\n              // window.scroll({ behavior: 'smooth', top: 0 });\r\n              // setImage(urlCreator.createObjectURL(dataBlob));\r\n            })\r\n            .catch(err => {\r\n              alert('Error getting image');\r\n            });\r\n        })\r\n        .catch(err => console.error(err));\r\n    } else {\r\n      setImage('');\r\n    }\r\n  };\r\n\r\n  useEffect(() => fetchUserDocs(), []);\r\n\r\n  return <div>{image ? <img src={image} alt=\"user image\" width=\"200px\" height=\"200px\" /> : <small>No image found!</small>}</div>;\r\n}\r\n\r\nexport default ShowUserImg;\r\n"]}]}