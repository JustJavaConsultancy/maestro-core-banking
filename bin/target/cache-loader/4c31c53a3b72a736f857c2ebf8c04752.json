{"remainingRequest":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\thread-loader\\dist\\cjs.js??ref--4-2!C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\ts-loader\\index.js??ref--4-3!C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\src\\main\\webapp\\app\\modules\\dashboard\\customers\\changeUserPassword\\ChangeUserPassword.tsx","dependencies":[{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\src\\main\\webapp\\app\\modules\\dashboard\\customers\\changeUserPassword\\ChangeUserPassword.tsx","mtime":1636716303413},{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\react-hot-loader\\webpack.js","mtime":1626862466408},{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1626862527244},{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1626862599606},{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\ts-loader\\index.js","mtime":1626862600027},{"path":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\eslint-loader\\dist\\cjs.js","mtime":1626862551139}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyIH0gZnJvbSAidHNsaWIiOw0KaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnOw0KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsNCmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnOw0KaW1wb3J0ICcuL2NoYW5nZVVzZXJQYXNzLnNjc3MnOw0KZnVuY3Rpb24gQ2hhbmdlVXNlclBhc3N3b3JkKHsgdXNlclBob25lLCB1c2VyTmFtZSB9KSB7DQogICAgY29uc3QgW25ld1Bhc3N3b3JkLCBzZXROZXdQYXNzd29yZF0gPSB1c2VTdGF0ZSh1dWlkdjQoKSk7DQogICAgY29uc3QgW3Nob3dQYXNzd29yZCwgc2V0U2hvd1Bhc3N3b3JkXSA9IHVzZVN0YXRlKGZhbHNlKTsNCiAgICBjb25zdCBbc2hvd01zZywgc2V0U2hvd01zZ10gPSB1c2VTdGF0ZSgnJyk7DQogICAgY29uc3QgW3Nob3dDb25maXJtLCBzZXRTaG93Q29uZmlybV0gPSB1c2VTdGF0ZShmYWxzZSk7DQogICAgY29uc3QgY2hhbmdlUGFzc3dvcmQgPSAocGhvbmUpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsNCiAgICAgICAgICAgIHBob25lTnVtYmVyOiBwaG9uZSwNCiAgICAgICAgICAgIG5ld1Bhc3N3b3JkLA0KICAgICAgICB9Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBheGlvcy5wb3N0KGAvYXBpL2FkbWluL3Bhc3N3b3JkL2NoYW5nZWAsIHBheWxvYWQpOw0KICAgICAgICAgICAgLy8gICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYGh0dHBzOi8vd2FsbGV0ZGVtby5yZW1pdGEubmV0L2FwaS9hZG1pbi9wYXNzd29yZC9jaGFuZ2VgLCBwYXlsb2FkKTsNCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09ICcwMCcpIHsNCiAgICAgICAgICAgICAgICBzZXRTaG93TXNnKCcnKTsNCiAgICAgICAgICAgICAgICBzZXRTaG93Q29uZmlybShmYWxzZSk7DQogICAgICAgICAgICAgICAgc2V0U2hvd1Bhc3N3b3JkKHRydWUpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlDQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBzZXRTaG93UGFzc3dvcmQoZmFsc2UpOw0KICAgICAgICAgICAgc2V0U2hvd0NvbmZpcm0oZmFsc2UpOw0KICAgICAgICAgICAgc2V0U2hvd01zZygnUGFzc3dvcmQgY2hhbmdlIHVuc3VjY2Vzc2Z1bCEhJyk7DQogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwNCiAgICAgICAgIXNob3dDb25maXJtICYmIChSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCBudWxsLA0KICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBjbGFzc05hbWU6ICJwYXNzLWJ0biIsIG9uQ2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlUGFzc3dvcmQodXNlclBob25lKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gc2V0TmV3UGFzc3dvcmQoJycpOw0KICAgICAgICAgICAgICAgICAgICBzZXRTaG93UGFzc3dvcmQoZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICBzZXRTaG93Q29uZmlybSh0cnVlKTsNCiAgICAgICAgICAgICAgICB9IH0sICJDaGFuZ2UgUGFzc3dvcmQiKSkpLA0KICAgICAgICBzaG93Q29uZmlybSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgbnVsbCwNCiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAibXNnLWNvbmZpcm0iIH0sDQogICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIG51bGwsDQogICAgICAgICAgICAgICAgICAgICJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2hhbmdlICIsDQogICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lLA0KICAgICAgICAgICAgICAgICAgICAiJ3MgcGFzc3dvcmQ/IikpLA0KICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBjaGFuZ2VQYXNzd29yZCh1c2VyUGhvbmUpLCBjbGFzc05hbWU6ICJwYXNzLWJ0biBidG4tY29udGludWUiIH0sICJDb250aW51ZSIpLA0KICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiwgeyBvbkNsaWNrOiAoKSA9PiBzZXRTaG93Q29uZmlybShmYWxzZSksIGNsYXNzTmFtZTogInBhc3MtYnRuIGJ0bi1jYW5jZWwiIH0sICJDYW5jZWwiKSkpLA0KICAgICAgICBzaG93UGFzc3dvcmQgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsgY2xhc3NOYW1lOiAic2hvdy1wYXNzIiB9LA0KICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIHsgY2xhc3NOYW1lOiAibWItMCIgfSwNCiAgICAgICAgICAgICAgICAiTmV3IHBhc3N3b3JkOiAiLA0KICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIsIG51bGwsIG5ld1Bhc3N3b3JkKSkpKSwNCiAgICAgICAgc2hvd01zZyAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudCgicCIsIHsgY2xhc3NOYW1lOiAibWItMCIsIHN0eWxlOiB7IGNvbG9yOiAnI2YwMCcgfSB9LA0KICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudCgic3Ryb25nIiwgbnVsbCwgc2hvd01zZykpKSkpOw0KfQ0KZXhwb3J0IGRlZmF1bHQgQ2hhbmdlVXNlclBhc3N3b3JkOw0K"},{"version":3,"file":"C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\src\\main\\webapp\\app\\modules\\dashboard\\customers\\changeUserPassword\\ChangeUserPassword.tsx","sourceRoot":"","sources":["C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\node_modules\\eslint-loader\\dist\\cjs.js!C:\\Users\\VICTOR UZOMA\\Desktop\\dfsBackend\\src\\main\\webapp\\app\\modules\\dashboard\\customers\\changeUserPassword\\ChangeUserPassword.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACxC,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,EAAE,IAAI,MAAM,EAAE,MAAM,MAAM,CAAC;AAEpC,OAAO,uBAAuB,CAAC;AAE/B,SAAS,kBAAkB,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE;IACjD,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;IACzD,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IACxD,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IAC3C,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAEtD,MAAM,cAAc,GAAG,CAAO,KAAa,EAAiB,EAAE;QAC5D,MAAM,OAAO,GAAG;YACd,WAAW,EAAE,KAAK;YAClB,WAAW;SACZ,CAAC;QACF,IAAI;YACF,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,IAAI,CAAC,4BAA4B,EAAE,OAAO,CAAC,CAAC;YACzE,2GAA2G;YAE3G,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE;gBAC/B,UAAU,CAAC,EAAE,CAAC,CAAC;gBACf,cAAc,CAAC,KAAK,CAAC,CAAC;gBACtB,eAAe,CAAC,IAAI,CAAC,CAAC;gBACtB,OAAO;aACR;YAED,sCAAsC;YACtC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;SACvB;QAAC,OAAO,KAAK,EAAE;YACd,eAAe,CAAC,KAAK,CAAC,CAAC;YACvB,cAAc,CAAC,KAAK,CAAC,CAAC;YACtB,UAAU,CAAC,gCAAgC,CAAC,CAAC;YAC7C,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACtB;IACH,CAAC,CAAA,CAAC;IAEF,OAAO,CACL;QACG,CAAC,WAAW,IAAI,CACf;YACE,gCACE,SAAS,EAAC,UAAU,EACpB,OAAO,EAAE,GAAG,EAAE;oBACZ,6BAA6B;oBAC7B,sBAAsB;oBACtB,eAAe,CAAC,KAAK,CAAC,CAAC;oBACvB,cAAc,CAAC,IAAI,CAAC,CAAC;gBACvB,CAAC,sBAGM,CACL,CACP;QAEA,WAAW,IAAI,CACd;YACE,6BAAK,SAAS,EAAC,aAAa;gBAC1B;;oBAAoC,QAAQ;mCAAqB,CAC7D;YACN,gCAAQ,OAAO,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE,SAAS,EAAC,uBAAuB,eAE1E;YACT,gCAAQ,OAAO,EAAE,GAAG,EAAE,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,SAAS,EAAC,qBAAqB,aAEpE,CACL,CACP;QACA,YAAY,IAAI,CACf,6BAAK,SAAS,EAAC,WAAW;YACxB,2BAAG,SAAS,EAAC,MAAM;;gBACH,oCAAS,WAAW,CAAU,CAC1C,CACA,CACP;QACA,OAAO,IAAI,CACV,2BAAG,SAAS,EAAC,MAAM,EAAC,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE;YAC1C,oCAAS,OAAO,CAAU,CACxB,CACL,CACG,CACP,CAAC;AACJ,CAAC;AAED,eAAe,kBAAkB,CAAC","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport './changeUserPass.scss';\r\n\r\nfunction ChangeUserPassword({ userPhone, userName }) {\r\n  const [newPassword, setNewPassword] = useState(uuidv4());\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showMsg, setShowMsg] = useState('');\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n  const changePassword = async (phone: string): Promise<void> => {\r\n    const payload = {\r\n      phoneNumber: phone,\r\n      newPassword,\r\n    };\r\n    try {\r\n      const response = await axios.post(`/api/admin/password/change`, payload);\r\n      //   const response = await axios.post(`https://walletdemo.remita.net/api/admin/password/change`, payload);\r\n\r\n      if (response.data.code === '00') {\r\n        setShowMsg('');\r\n        setShowConfirm(false);\r\n        setShowPassword(true);\r\n        return;\r\n      }\r\n\r\n      // eslint-disable-next-line no-console\r\n      console.log(response);\r\n    } catch (error) {\r\n      setShowPassword(false);\r\n      setShowConfirm(false);\r\n      setShowMsg('Password change unsuccessful!!');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!showConfirm && (\r\n        <div>\r\n          <button\r\n            className=\"pass-btn\"\r\n            onClick={() => {\r\n              // changePassword(userPhone);\r\n              // setNewPassword('');\r\n              setShowPassword(false);\r\n              setShowConfirm(true);\r\n            }}\r\n          >\r\n            Change Password\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {showConfirm && (\r\n        <div>\r\n          <div className=\"msg-confirm\">\r\n            <p>Are you sure you want to change {userName}&#39;s password?</p>\r\n          </div>\r\n          <button onClick={() => changePassword(userPhone)} className=\"pass-btn btn-continue\">\r\n            Continue\r\n          </button>\r\n          <button onClick={() => setShowConfirm(false)} className=\"pass-btn btn-cancel\">\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      )}\r\n      {showPassword && (\r\n        <div className=\"show-pass\">\r\n          <p className=\"mb-0\">\r\n            New password: <strong>{newPassword}</strong>\r\n          </p>\r\n        </div>\r\n      )}\r\n      {showMsg && (\r\n        <p className=\"mb-0\" style={{ color: '#f00' }}>\r\n          <strong>{showMsg}</strong>\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChangeUserPassword;\r\n"]}]}